Επισκόπηση
==========

Η εφαρμογή TRACEOIL αναλαμβάνει την διαχείριση της πληροφορίας σχετικά με την
ιχχνηλασιμότητα του ελαιόλαδου σε όλη την γραμμή παραγωγής του, από την
πρωτογενή παραγωγή, έως την εμφιάλωση και πώληση στον τελικό καταναλωτή. Το
σύστημα υλοποιεί μία ιεραρχική αλυσίδα ρόλων όπου θα συνδέονται μεταξύ τους και
μπορεί να γίνει ανίχνευση της προέλευσης του προϊόντος από τις μεγαλύτερες
βαθμίδες της αλυσίδας μέχρι την κορυφή. Συγκεκριμένα, οι ρόλοι αυτοί θα είναι:

1.  Ο παραγωγός ελιάς

2.  Το ελαιοτριβείο

3.  Ο έμπορος

4.  Η εταιρεία εμφιάλωσης και πώλησης

5.  Ο διαχειριστής - service provider του συστήματος

6.  Πιθανοί εξωτερικοί χρήστες και το ευρύ κοινό

Μοντέλο πληροφορίας
===================

Ο κάθε ρόλος θα προσθέτει την δική του πληροφορία στο σύστημα ώστε να παρέχει
όλη την απαραίτητη υποδομή για τη σύνδεση της πληροφορίας με τον επόμενο κρίκο
της αλυσίδας.

Παραγωγός
---------

Ο παραγωγός θα πρέπει να παρέχει πληροφορίες τόσο για τον εαυτό του, ώστε να
είναι ενημερωμένη η εγγραφή του στο σύστημα και να μπορούν να βλέπουν όλοι οι
συνδεόμενοι με αυτόν τις πληροφορίες του. Για περαιτέρω εμβάθυνση της
πληροφορίας και καλύτερη δόμηση, θα μπορεί προαιρετικά να συμπληρώνει και
πληροφορίες σχετικά με αγροτεμάχια στην κατοχή του. Πιο αναλυτικά:

### Ατομικά στοιχεία:

1.  Επωνυμία

2.  ΑΦΜ

3.  Αρ. Άδειας

4.  Στοιχεία επικοινωνίας (Διεύθυνση, τηλέφωνο, email)

5.  Αειφορία παραγωγού (στην αρχή 0,1 στην πορεία ποσοστό μέχρι 100%)

6.  Ονοματεπώνυμα, τηλέφωνα, email, usernames χρηστών που συνδέονται με τον
    παραγωγό

    1.  Αργότερα, θα ενεργοποιηθούν access privileges ανά user.

### Αγροτεμάχιο

1.  Μοναδικός κωδικός (ΟΣΔΕ)

2.  Έκταση

3.  Περιοχή – GeoLocation

4.  Αειφορία

Ελαιοτριβείο
------------

### Στοιχεία ελαιοτριβείου

1.  Επωνυμία

2.  ΑΦΜ

3.  Διεύθυνση

4.  Στοιχεία επικοινωνίας

5.  Ονοματεπώνυμα, τηλέφωνα, email, usernames χρηστών που συνδέονται με το
    ελαιοτριβείο

    1.  Αργότερα, θα ενεργοποιηθούν access privileges ανά user

### Δεξαμενές

1.  Κωδικός Δεξαμενής

2.  Χωρητικότητα

3.  Περιγραφή

4.  Αρχ. Ποσότητα

5.  Ημ/νία αρχικής Ποσότητας

### Εισροή από παραγωγό

1.  Μοναδικός κωδικός παρτίδας

2.  Ποσότητα καρπού

3.  Κωδικός παραγωγού προέλευσης

4.  Κωδικοί αγροτεμαχίων προέλευσης καρπών

5.  Αειφορία παρτίδας

6.  Ποσότητα ελαιολάδου

7.  Κωδικός δεξαμενής αποθήκευσης

Έμπορος
-------

### Ατομικά στοιχεία

1.  Επωνυμία

2.  Μοναδικός κωδικός

3.  Στοιχεία (ότι άλλο τον χαρακτηρίζει, πχ. άδεια κλπ)

4.  Γεωγραφική τοποθεσία

5.  Ονοματεπώνυμα, τηλέφωνα, email, usernames χρηστών που συνδέονται με τον
    έμπορο

    1.  Αργότερα, θα ενεργοποιηθούν access privileges ανά user.

Εταιρεία εμφιάλωσης και διάθεσης
--------------------------------

1.  Επωνυμία

2.  Μοναδικός κωδικός

3.  Στοιχεία επικοινωνίας

4.  Ονοματεπώνυμα, τηλέφωνα, email, usernames χρηστών που συνδέονται με την
    εταιρία

    1.  Αργότερα, θα ενεργοποιηθούν access privileges ανά user.

Σενάρια Χρήσης - Λειτουργικές Προδιαγραφές
==========================================

Ελαιοτριβείο
------------

-   Το ελαιοτριβείο εκτός από τα στοιχεία της επιχείρησης που θα είναι
    απαραίτητα κατά την εγγραφή του στο σύστημα, θα μπορεί και αυτό να δηλώνει
    κάποια περαιτέρω χαρακτηριστικά τα οποία θα βοηθουν στην πιο λεπτομερή
    απεικόνιση της ιχνηλασιμότητας, όπως πχ. τις δεξαμενές του με τα στοιχεία
    που αναφέρονται στην προηγούμενη ενότητα.

-   Το ελαιοτριβείο θα έχει την ευθύνη να καταγράφει τις συναλλαγές του στο
    σύστημα. Τόσο τις αγορές πρώτης ύλης από τους παραγωγούς, όσο και τις
    πωλήσεις του σε εμπόρους.

-   Κατά την παραλαβή παρτίδας από κάποιο παραγωγό, το ελαιοτριβείο θα πρέπει να
    μπαίνει στο σύστημα και να δηλώνει την συναλλαγή ως νέα παραλαβή. Σε αυτήν
    θα δηλώνει, υποχρεωτικά τον κωδικό του παραγωγού από τον οποίο παρέλαβε και
    την ποσότητα.

-   Προαιρετικά, για την καλύτερη τελική πληροφόρηση θα μπορεί να ενημερώνει την
    παραλαβή με τους κωδικούς αγροτεμαχίων από τα οποία προήλθε, την αειφορία
    αυτών και την ποσότητα από το καθένα. Αν έχει γίνει προγενέστερη δήλωση των
    αγροτεμαχίων από τον παραγωγό, μπορούν να επιλέγονται αυτά από τη βάση - αν
    αυτή δεν έχει γίνει, η καταχώρηση αυτή θα γίνεται σε πεδία string και όχι με
    χρήση υπαρχόντων εγγραφών.

-   Η παρτίδα θα οριστικοποιείται και θα παίρνει ένα μοναδικό κωδικό παραλαβής
    που θα χρησιμοποιείται για την ταυτοποίησή της. Εδώ είναι λογικό ότι το
    ελαιοτριβείο θα έχει τη δυνατότητα να δει όλες τις διαθέσιμες πληροφορίες
    στο σύστημα για τον παραγωγό από τον οποίο πραγματοποίησε την αγορά.

-   Για την διαδικασία της παραγωγής του τελικού προϊόντος του ελαιοτριβείου,
    που είναι το αποτέλεσμα άλεσης, ο χρήστης θα πρέπει να επιλέγει υποχρεωτικά
    τις παραλαβές από τους παραγωγούς (τις οποίες έχει δηλώσει προηγουμένως),
    που συμμετέχουν σε μία άλεση και παράγουν το τελικό προιόν.  Έτσι θα
    ορίζεται το τελικό προϊόν και θα χαρακτηρίζεται επίσης από μοναδικό κωδικό,
    με το ελάχιστο επίπεδο πληροφορίας που μπορεί μέχρι τώρα να είναι απλά ο
    παραγωγός από τον οποίο προήλθε ο καρπός, μέχρι το μέγιστο που, θα έχουμε
    πληροφορίες για τα αγροτεμάχια τα οποία συμμετείχαν στην παρτίδα, την γραμμή
    παραγωγής που χρησιμοποιήθηκε, καθώς και την δεξαμενή στην οποία
    αποθηκεύτηκε.

-   Η τελευταία συναλλαγή για την οποία θα είναι υπεύθυνο το ελαιοτριβείο, θα
    είναι η πώληση του προϊόντος του (αποτέλεσμα άλεσης) σε κάποιον έμπορο. Εδώ
    πολύ απλά θα συσχετίζει το τελικό προϊόν που ορίστηκε παραπάνω σε μία
    συναλλαγή με ημερομηνία σε κάποιον γραμμένο στο σύστημα έμπορο. Όπως και στο
    στάδιο της παραλαβής, έτσι και εδώ θα είναι διαθέσιμες στο ελαιοτριβείο οι
    πληροφορίες του εμπόρου από τον οποίο αγοράστηκε το προϊόν.

Έμπορος
-------

-   Ο έμπορος, όπως και οι υπόλοιποι χρήστες πιο κάτω στην κλίμακα, θα πρέπει να
    εγγραφεί και να αποκτήσει ταυτότητα στο σύστημα. Θα εισάγει υποχρεωτικά τα
    ατομικά του στοιχεία όπως αυτά ορίζονται στην προηγούμενη ενότητα.

-   Εφόσον καταχωρήθηκε μία πώληση από ένα ελαιοτριβείο προς ένα έμπορο, αυτός
    θα μπορεί με την σειρά του να δει την συναλλαγή και τις λεπτομέρειές της. Σε
    αυτό το σημείο πλέον είναι διαθέσιμη στον έμπορο η ανίχνευση της
    πληροφορίας, στο επίπεδο που παρέχεται από το ελαιοτριβείο ως προέλευση του
    προϊόντος από τους εκάστοτε παραγωγους, με την επιπρόσθετη πληροφορία της
    δεξαμενής που χρησιμοποιήθηκε όπως αναφέρθηκαν παραπάνω.

-   Είναι δυνατή η εισαγωγή εισροής του εμπόρου από ελαιοτριβείο, ή από παραγωγό
    του συστήματος.

-   Η κατάσταση των δεξαμενών του έμπορου θα προκύπτει ως αποτέλεσμα των
    συναλλαγών του με διάφορα ελαιοτριβεία.

-   Ο έμπορος με τη σειρά του θα μπορεί να καταχωρήσει την συναλλαγή της πώλησης
    του προϊόντος του προς μία μονάδα εμφιάλωσης.

Εταιρία εμφιάλωσης
------------------

-   Κατ’ αναλογία με τους εμπόρους, η εταιρία θα μπορεί να επικυρώνει ή να
    αναφέρει μια συναλλαγή αγοραπωλησίας από έμπορο.

-   Σε επικυρωμένες συναλλαγές, θα αποκαλύπτεται στην εταιρία όλη η πληροφορία
    ιχνηλασιμότητας που αγόρασε, μέχρι και το αγροτεμάχιο. Αυτό μπορεί να
    αποδοθεί σε δομή δένδρου (π.χ. ποσότητα ελαιολάδου -\> έμπορος -\>
    ελαιοτριβείο -\> δεξαμενές -\> παραγωγοί -\> αγροτεμάχια).

-   Στην εταιρία θα εμφανίζεται και ο βαθμός αειφορίας του ελαιολάδου που
    αγοράζει, ανά παρτίδα αγοράς, συνολικά για συναλλαγές του έτους, συνολικά
    για επιλεγμένη χρονική περίοδο, συνολικά για όλο το ιστορικό.

-   Ο τύπος αειφορίας είναι:

    $$
        sustainability% = 100 x Σ{vi x si}/Σ{vi}
    $$

όπου vi οι επι μέρους ποσότητες και si o βαθμός αειφορίας τους, ή 0 αν είναι
άγνωστος.

‘Αλλες προδιαγραφές
-------------------

-   Όλες οι ποσότητες καρπών και ελαιολάδου είναι σε κιλά. Το UI μπορεί να
    δείχνει για ευκολία τα χιλιάδες κιλά ως τόνους.

-   Όταν δηλώνεται κάποιο ΑΦΜ για συναλλαγή, η εφαρμογή το αναζητά για να κάνει
    autofill τα στοιχεία επωνυμίας του συναλασσόμενου.

-   *Συμπεριφορά όταν κάποιος ρόλος χρήστη θέλει να δηλώσει συναλλαγή με ΑΦΜ
    άλλης οντότητας που δεν έχει ακόμη εγγραφεί στο σύστημα*: Τότε, θα δηλώνει
    απλώς το ΑΦΜ του συναλασσόμενου, και εφόσον η ανεύρεση επιστρέψει κενό,
    μπορεί ο χρήστης να δηλώσει σε πληροφοριακό πεδίο και μια προσωρινή επωνυμία
    για το συναλασσόμενό του.

    -   Όταν τελικά εγγραφεί ο χρήστης με το εν λόγω ΑΦΜ, δυναμικά θα ενημερωθεί
        για όλες τις συναλλαγές που τυχόν τον αφορούν, με δυνατότητα να τις
        επικυρώσει ή αναφέρει. Επίσης, η πραγματική επωνυμία και λοιπά στοιχεία
        του νέου χρήστη θα είναι πλέον ορατά σε όσους άλλους χρήστες έχουν
        επικυρωμένες συναλλαγές μαζί του.

-   Οι χρήστες της εφαρμογής θα χρησιμοποιούν το σύστημα μέσω πρωτοκόλλων
    ασφάλειας πρόσβασης (https με πιστοποιητικά SSL) και θα έχουν πρώτα περάσει
    την διαδικασία εγγραφής και ταυτοποίησής τους. Με την έλευση του κάθε
    σταδίου θα δημιουργείται ξεχωριστό session στην web εφαρμογή, με timeout 120
    λεπτά, ώστε να διασφαλιστεί η ασφάλεια της συναλλαγής.

-   Το σύστημα θα δίνει την δυνατότητα να τυπωθούν έντυπα (reports) τα οποία θα
    έχουν την δυνατότητα να ενσωματώνουν όλες τις πληροφορίες που θα έχουν
    εισαχθεί μέχρι τότε.

    -   Τα reports θα διαθέτουν μοναδικό κωδικό που θα χαρακτηρίζει το στάδιο
        της διαδικασίας, τον συγκεκριμένο χρήστη και την χρονική στιγμή της
        εκτύπωσης ώστε να μην υπάρχει η δυνατότητα παραποίησης του εγγράφου και
        σύγχυσης πληροφοριών.
